<!DOCTYPE html>
<html>

<head>
  <title>rock paper scissors advance</title>
</head>

<body>
  <p>rock paper scissors game!</p>
  <button onclick="
  usermove('rock');
    ">
    Rock
  </button>
  <button onclick="
  usermove('paper');
    ">
    Paper
  </button>
  <button onclick="
    usermove('scissor');
    ">
    Scissors
  </button>
  <button onclick="
    points.win=0;
    points.loss=0;
    points.tie=0;
    localStorage.removeItem('points');
    ">
    Reset score
  </button>
  <script>
    let points = JSON.parse(localStorage.getItem('points')) || {
      win:0,
      loss:0,
      tie:0
    };

    function usermove(button) {
      const c = systemmove();
      let result = '';
      if (button === 'scissor') {
        if (c === 'rock') {
          result = 'loss'
        }
        else if (c === 'paper') {
          result = 'win';
        }
        else if (c === 'scissor') {
          result = 'tie';
        }
      }
      if (button === 'paper') {
        if (c === 'rock') {
          result = 'win'
        }
        else if (c === 'paper') {
          result = 'tie';
        }
        else if (c === 'scissor') {
          result = 'loss';
        }
      }
      if (button === 'rock') {
        if (c === 'rock') {
          result = 'tie'
        }
        else if (c === 'paper') {
          result = 'loss';
        }
        else if (c === 'scissor') {
          result = 'win';
        }
      }

      if (result === 'win') {
        points.win += 1;
      }
      else if (result === 'loss') {
        points.loss += 1;
      }
      else if (result === 'tie') {
        points.tie += 1;
      }

      localStorage.setItem('points', JSON.stringify(points));

      alert(`you selected ${button} .system selected ${c}. ${result}
      Win:${points.win}  loss:${points.loss}  tie:${points.tie}`);
    }
    function systemmove() {
      let a = Math.random();
      let c = '';

      if (a >= 0 && a < (1 / 3)) {
        c = 'rock';
      }
      else if (a >= (1 / 3) && a < (2 / 3)) {
        c = 'paper';
      }
      else if (a >= (2 / 3) && a < 1) {
        c = 'scissor';
      }
      return c;
    }
  </script>
</body>

</html>